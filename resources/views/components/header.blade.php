<div class="flex items-center justify-between w-full" >
    <div class="flex items-center   w-[550px] h-[40px] bg-white rounded-[10px] shadow-[0px_1px_2px_-1px_rgba(0,0,0,0.2)]">
        <input type="search" name="search" id="search"
               class="w-full rounded-[10px] px-3 py-1.5 placeholder:text-sm placeholder:text-[9.5px] outline-none border-none bg-transparent z-10 focus:ring-[#626465] mr-2"
               placeholder="Search here" style="font-size: 10px">
        <svg class="text-gray-500 mr-3" width="15" height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M23.7871 22.7761L17.9548 16.9437C19.5193 15.145 20.4665 12.7982 20.4665 10.2333C20.4665 4.58714 15.8741 0 10.2333 0C4.58714 0 0 4.59246 0 10.2333C0 15.8741 4.59246 20.4665 10.2333 20.4665C12.7982 20.4665 15.145 19.5193 16.9437 17.9548L22.7761 23.7871C22.9144 23.9255 23.1007 24 23.2816 24C23.4625 24 23.6488 23.9308 23.7871 23.7871C24.0639 23.5104 24.0639 23.0528 23.7871 22.7761ZM1.43149 10.2333C1.43149 5.38004 5.38004 1.43681 10.2279 1.43681C15.0812 1.43681 19.0244 5.38537 19.0244 10.2333C19.0244 15.0812 15.0812 19.035 10.2279 19.035C5.38004 19.035 1.43149 15.0865 1.43149 10.2333Z" fill="#A4A4A4"/>
        </svg>

    </div>


    <div class="flex items-center justify-end">
                <div class="flex justify-between items-center ml-24 mr-2 w-[50px]" >
                    <svg width="45" height="45" viewBox="0 0 57 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect y="7" width="48" height="48" rx="15" fill="#249000" fill-opacity="0.15"/>
                        <path d="M15.6667 40.3333H22.6667C22.6667 40.9522 22.9125 41.5457 23.3501 41.9833C23.7877 42.4208 24.3812 42.6667 25 42.6667C25.6188 42.6667 26.2123 42.4208 26.6499 41.9833C27.0875 41.5457 27.3333 40.9522 27.3333 40.3333H34.3333C34.6428 40.3333 34.9395 40.2104 35.1583 39.9916C35.3771 39.7728 35.5 39.4761 35.5 39.1667C35.5 38.8572 35.3771 38.5605 35.1583 38.3417C34.9395 38.1229 34.6428 38 34.3333 38V29.8333C34.3333 27.358 33.35 24.984 31.5997 23.2337C29.8493 21.4833 27.4754 20.5 25 20.5C22.5246 20.5 20.1507 21.4833 18.4003 23.2337C16.65 24.984 15.6667 27.358 15.6667 29.8333V38C15.3572 38 15.0605 38.1229 14.8417 38.3417C14.6229 38.5605 14.5 38.8572 14.5 39.1667C14.5 39.4761 14.6229 39.7728 14.8417 39.9916C15.0605 40.2104 15.3572 40.3333 15.6667 40.3333V40.3333ZM18 29.8333C18 27.9768 18.7375 26.1963 20.0503 24.8836C21.363 23.5708 23.1435 22.8333 25 22.8333C26.8565 22.8333 28.637 23.5708 29.9497 24.8836C31.2625 26.1963 32 27.9768 32 29.8333V38H18V29.8333Z" fill="#249000"/>
                        <rect x="33.5" y="1.5" width="22" height="22" rx="11" fill="#249000" stroke="#249000" stroke-width="3"/>
                        <path d="M41.0926 16.1962C41.0686 16.2362 41.0766 16.2562 41.1166 16.2562H44.8846C44.9646 16.2562 45.0046 16.2962 45.0046 16.3762V16.8802C45.0046 16.9602 44.9646 17.0002 44.8846 17.0002H40.0966C40.0166 17.0002 39.9766 16.9602 39.9766 16.8802V16.3762C39.9766 16.3202 39.9966 16.2722 40.0366 16.2322C40.3086 15.9122 40.9206 15.1602 41.8726 13.9762L42.7606 12.8722C43.5126 11.9202 43.8886 11.1802 43.8886 10.6522C43.8886 10.2282 43.7446 9.88824 43.4566 9.63224C43.1686 9.37624 42.7926 9.24824 42.3286 9.24824C41.8726 9.24824 41.5046 9.38024 41.2246 9.64424C40.9446 9.90024 40.8086 10.2402 40.8166 10.6642V11.0362C40.8166 11.1162 40.7766 11.1562 40.6966 11.1562H40.0726C39.9926 11.1562 39.9526 11.1162 39.9526 11.0362V10.5562C39.9686 9.94024 40.1966 9.44424 40.6366 9.06824C41.0846 8.69224 41.6486 8.50424 42.3286 8.50424C42.8086 8.50424 43.2326 8.59624 43.6006 8.78024C43.9686 8.96424 44.2526 9.22024 44.4526 9.54824C44.6526 9.86824 44.7526 10.2322 44.7526 10.6402C44.7526 11.3202 44.3766 12.1402 43.6246 13.1002C43.2326 13.6042 42.4766 14.5322 41.3566 15.8842L41.0926 16.1962ZM47.6981 8.63624C47.7461 8.61224 47.7981 8.60024 47.8541 8.60024H48.5021C48.5821 8.60024 48.6221 8.64024 48.6221 8.72024V16.8802C48.6221 16.9602 48.5821 17.0002 48.5021 17.0002H47.8901C47.8101 17.0002 47.7701 16.9602 47.7701 16.8802V9.57224C47.7701 9.55624 47.7621 9.54424 47.7461 9.53624C47.7381 9.52824 47.7261 9.52824 47.7101 9.53624L46.4381 10.0522L46.3901 10.0642C46.3421 10.0642 46.3101 10.0322 46.2941 9.96824L46.2341 9.51224V9.48824C46.2341 9.44824 46.2621 9.40824 46.3181 9.36824L47.6981 8.63624Z" fill="white"/>
                    </svg>


{{--                    <svg width="1" height="35" viewBox="0 0 1 56" fill="none" xmlns="http://www.w3.org/2000/svg">--}}
{{--                        <rect width="1" height="56" rx="0.5" fill="#249000"/>--}}
{{--                    </svg>--}}
                </div>

        <div class="flex justify-center items-center">
            <svg width="3" height="12" viewBox="0 0 3 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="1.5" y1="1.5" x2="1.5" y2="22.5" stroke="#36D600" stroke-width="3" stroke-linecap="round"/>
            </svg>

            <img
                class="w-[50px]"
                src="{{ asset('storage/' . (auth()->user()->profile_photo_path ?? 'pmsAssets/default.png')) }}"
                alt="profile_img"
            />


            <div class="block items-center">
                <p style="font-size: 12px">
                    {{ auth()->user()->first_name }}
                    @if(auth()->user()->middle_initial)
                        {{ auth()->user()->middle_initial }}.
                    @endif
                    {{ auth()->user()->last_name }}
                </p>
                <p style="font-size: 8px">{{ auth()->user()->role }}</p>
            </div>


        </div>
        <div class="ml-2">
            <x-dropdown align="right" width="48" contentClasses="py-2 bg-white" dropdownClasses="border border-gray-200">
                <x-slot name="trigger">
                    <button class="">
                        <svg width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.68448 0.155061C0.872433 -0.0328917 1.16655 -0.0499784 1.3738 0.103801L1.43318 0.155061L6.00001 4.72165L10.5668 0.155062C10.7548 -0.0328913 11.0489 -0.0499779 11.2562 0.103802L11.3155 0.155062C11.5035 0.343014 11.5206 0.63713 11.3668 0.844385L11.3155 0.903763L6.37436 5.84494C6.1864 6.03289 5.89229 6.04998 5.68503 5.8962L5.62566 5.84494L0.68448 0.903762C0.477732 0.697014 0.477732 0.361809 0.68448 0.155061Z" fill="#808080" fill-opacity="0.55"/>
                        </svg>
                    </button>
                </x-slot>

                <x-slot name="content">
                    <a href="{{ route('userProfile') }}" class="block px-4 py-2 text-[11px] text-gray-700 hover:bg-gray-100" >Account Settings</a>
                    <!-- Logout Form -->
                    <form id="logout-form" action="{{ route('logout') }}" method="POST" style="display: none;">
                        @csrf
                    </form>

                    <!-- Logout Link -->
                    <a href="#" onclick="event.preventDefault(); showLogoutModal();" class="block px-4 py-2 text-[11px] text-gray-700 hover:bg-gray-100">
                        Logout
                    </a>

                </x-slot>
            </x-dropdown>

        </div>
    </div>
</div>

<!-- Confirmation Modal -->
<div id="logoutModal" class="fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative mx-4 sm:mx-0">

        <div class="flex flex-col items-center">
            <div class="text-red-500 text-4xl mb-4">
                <i class="fas fa-exclamation-circle"></i>
            </div>
            <h2 class="text-[12px] sm:text-sm font-bold text-gray-800 mb-2">Logout</h2>
            <p class="text-[10px] sm:text-[12px] font-regular text-gray-600 text-center mb-6">Are you sure you want to log out? You will lose any unsaved changes.</p>
            <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 w-full">
                <button id="cancel-logout" class="bg-white text-gray-700 text-xs sm:text-sm font-regular px-4 py-2 rounded-md w-full lg:w-1/2 border border-gray-300 hover:bg-gray-100">Cancel</button>
                <button id="confirm-logout" class="bg-red-500 text-white text-xs sm:text-sm font-bold px-4 py-2 rounded-md w-full lg:w-1/2 hover:bg-red-600">Logout</button>
            </div>
        </div>
    </div>
</div>

<script>
    function showLogoutModal() {
        document.getElementById('logoutModal').classList.remove('hidden');
    }

    document.getElementById('cancel-logout').onclick = function() {
        document.getElementById('logoutModal').classList.add('hidden');
    };

    document.getElementById('confirm-logout').onclick = function() {
        document.getElementById('logout-form').submit();
    };
</script>



